<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Spider-2</title>
    <link href="block.css" rel="stylesheet">

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
</head>

<body>
    <nav>
        <div class="nav-wrapper">
            <a href="#" class="brand-logo">Spider-2</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li>
                    <a href="explore.html">探索</a>
                </li>
                <li>
                    <a href="index.html">编程</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="menu-column">
        <h5>Menu</h5>
        <div class="menu"></div>
    </div>
    <div class="script-column">
        <h5>Script</h5>
        <button class="clear-action">Clear</button>
        <button class="save-action">Save</button>
        <button class="load-action">Load</button>
        <button class="run-action" id="run-action">Run</button>
        <div class="script"></div>
    </div>
</body>

<script src="util.js" type="text/javascript"></script>
<script src="drag.js" type="text/javascript"></script>
<script src="file.js" type="text/javascript"></script>
<script src="block.js" type="text/javascript"></script>
<script src="menu.js" type="text/javascript"></script>
<script src="turtle.js" type="text/javascript"></script>
<script type="text/javascript" src="mind-framework.js"></script>
<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
<script type="text/javascript">
    (function (global) {
        'use strict';

        document.getElementById("run-action").onclick = function () {
            console.log(global.file.scriptToJson())
        }

        mind.init({
            callback: function (robot) {
                var skillID = "SensorWalkSkill";
                robot.connectSkill({
                    skillID: skillID
                });
                document.getElementById("run-action").onclick = function () {
                    console.log(global.file.scriptToJson())
                    robot.sendData({
                        skillID: skillID,
                        // data: "start",
                        data: global.file.scriptToJson(),
                    })
                }
            }
        });
    })(window);


</script>

</html>